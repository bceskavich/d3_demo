<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>D3 Test</title>

        <link rel="stylesheet" href="stylesheets/style.css" />

        <script type="text/javascript" src="js/d3.v3.min.js"></script>
    </head>
    <body>

    	<h1>Ex. 1 - College Bars</h1>

    	<script type="text/javascript">

    		// SVG Canvas Size
            var w = 500;
            var h = 300;
            var barPadding = 10;
            var padding = 10;

    		// Schools + Bars
    		var schooldata = [
    			[ "Syracuse", 6 ],
    			[ "Colgate", 1 ],
    			[ "Michigan", 12 ],
    			[ "Georgetown", 6],
    			[ "Duke", 11 ],
    			[ "Villanova", 3 ]
    		];

    		
    		// Scaling
            var yScale = d3.scale.linear()
                                .domain([0, d3.max(schooldata, function(d) { return d[1]; })])
                                .range([padding, h - padding]);

            var yAxis = d3.svg.axis()
                              .scale(yScale)
                              .orient("left")
                              .ticks(5);

    		// SVG Canvas Creation
    		var svg = d3.select("body")
    					.append("svg")
    					.attr("width", w)
    					.attr("height", h);

    		// Bar Chart Creation
    		svg.selectAll("rect")
                .data(schooldata)
                .enter()
                .append("rect")
                .attr("x", function(d, i){
                	return ((i * ((w - (padding * 2)) / schooldata.length))) + 30;
                })
                .attr("y", function(d) {
                	return d[1] - padding * 2;
                    // return (h - yScale(d[1])) - (padding * 2);
                })
                .attr("width", w / schooldata.length - barPadding)
                .attr("height", function(d) {
                    return (yScale(d[1]) + padding);
                })
                .attr("fill", function(d) {
                    if (d[0] == "Syracuse") {
                    	return "orange";
                    }
                    else if (d[0] == "Georgetown" || d[0] == "Duke" || d[0] == "Villanova") {
                    	return "red";
                    }
                    else {
                    	return "blue";
                    }
                });

            // Bar Chart Labels
            svg.selectAll("text")
            	.data(schooldata)
            	.enter()
            	.append("text")
            	.text(function(d) {
            		return d[0];
            	})
            	.attr("x", function(d, i){
                    return i * (w / schooldata.length);
                })
                .attr("y", function(d) {
                    return h;
                })
                .attr("font-family", "Helvetica")
                .attr("font-size", "11px")
                .attr("fill", "black")
                .attr("text-anchor", "middle");

            svg.append("g")
            	.attr("class", "axis")
            	.attr("transform", "translate(" + (padding + 10) + ",0)")
                .call(yAxis);

    	</script>
    </body>
</html>